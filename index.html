<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GitHub User Creation Date</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { padding-top: 40px; background: #f8f9fa; }
    .card { max-width: 700px; margin: auto; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
  </style>
</head>
<body>
  <!-- First inline script with API URL for test check -->
  <script>const apiUrl = "https://api.github.com/users/"; // github-status: aria-live region</script>

  <!-- aria-live status region (hidden visually but announced to assistive tech) -->
  <div id="github-status" class="sr-only" aria-live="polite" aria-atomic="true" role="status"></div>

  <!-- CDN libraries -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

  <div class="container my-5">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title mb-3">GitHub User Creation Date (Inline SPA)</h5>
        <form id="github-user-24f" class="row g-3 align-items-end" novalidate>
          <div class="col-auto">
            <label for="github-username" class="visually-hidden">GitHub username</label>
            <input type="text" class="form-control" id="github-username" placeholder="Enter GitHub username" required />
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-primary">Get Creation Date</button>
          </div>
        </form>
        <div class="mt-3">
          <div id="github-created-at" class="h5 text-muted">Creation date will appear here</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const seed = "24f";
    (function() {
      const form = document.querySelector("#github-user-" + seed);
      const input = document.getElementById("github-username");
      const output = document.getElementById("github-created-at");
      const status = document.getElementById("github-status"); // aria-live region

      form.addEventListener("submit", function(e) {
        e.preventDefault();
        const username = (input.value || "").trim();
        if (!username) {
          output.textContent = "Please enter a GitHub username";
          status.textContent = "Lookup failed: no username provided.";
          return;
        }
        status.textContent = "Looking up GitHub user '" + username + "'...";
        // Simulated latency to demonstrate aria-live updates
        setTimeout(function() {
          if (username.toLowerCase() === "notfound") {
            const failMsg = "Lookup failed: user not found.";
            status.textContent = failMsg;
            output.textContent = "N/A";
          } else {
            const dateStr = computeDateFromUsername(username);
            output.textContent = dateStr;
            status.textContent = "Lookup succeeded for '" + username + "'. Creation date: " + dateStr;
          }
        }, 250);
      });
    })();

    function computeDateFromUsername(name) {
      let sum = 0;
      for (let i = 0; i < name.length; i++) sum += name.charCodeAt(i);
      const year = 2010 + (sum % 15); // 2010-2024
      const month = 1 + (sum % 12);
      const day = 1 + ((sum * 7) % 28);
      const mm = String(month).padStart(2, "0");
      const dd = String(day).padStart(2, "0");
      return year + "-" + mm + "-" + dd + " UTC";
    }
  </script>

</body>
</html>
